# Local test config for REAL data analysis
# Minimal config for comparing real vs synthetic input statistics

data:
    dataset_path: data/processed/real_with_id.zarr
    region2vec_path: checkpoints/region_embedding/region_embeddings.pt
    use_valid_targets: true
    mobility_threshold: 10
    missing_permit: 2
    window_stride: 1
    sample_ordering: "time"
    log_scale: true

model:
    type:
        cases: true
        regions: true
        biomarkers: true
        mobility: true
    params:
        mobility_embedding_dim: 16
        region_embedding_dim: 64
        gnn_module: "gcn"
        history_length: 14
        forecast_horizon: 7
        max_neighbors: 20
        gnn_depth: 2

output:
    experiment_name: real_local_analysis
    log_dir: outputs/training

training:
    device: "auto"
    batch_size: 2
    gradient_accumulation_steps: 2
    early_stopping_patience: 3
    nan_loss_patience: 3
    epochs: 1
    learning_rate: 0.001
    weight_decay: 1.0e-05
    num_workers: 0
    val_workers: 0
    prefetch_factor: null
    split_strategy: "node"
    val_split: 0.2
    test_split: 0.1
    profiler:
        enabled: false
    plot_forecasts: false
    enable_mixed_precision: false
